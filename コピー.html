<!DOCTYPE html>
<html lang="ja" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>コピー</title>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<meta name="viewport" content="width=device-width,intial-sca=1.0">
 <link rel="stylesheet" href="timer.css" media="screen and (max-width:760px)">
 <link rel="stylesheet" href="timer2.css" media="screen and (min-width:800px)">
  </head>
  <body>
    <h2 class="h2">カップヌードルタイマー</h2>
    <h1 class="p"id="count_1">3:00</h1>
    <div class="d2">
    <button  class="b1"id="start">スタート</button>
    <button class="b1" id="stop">ストップ</button>
    <button class="b1" id="reset">リセット</button>
     
    <audio id="audio1">
     <source src="makk.mp3" type="audio/mp3">
    </audio>
    <script>
      var count = 180;
      var min = 0;
      var sec = 0;
      var stp = null;
      var i   = 0;

      function count_start(){
          document.getElementById('audio1').load();
        document.getElementById('audio1').play();
          i++;
          if(i === 1){
              stp = setInterval(count_down,10);
          } else {
              alert("2度押し厳禁やで！");
              i = 0;
          }
      }

    function count_down(){
      if(count === 0){
        document.getElementById('audio1').load();
        document.getElementById('audio1').play();
      var text = document.getElementById('text');
      clearInterval(stp);

    }else{
      count--;
      min = parseInt(count / 60);
      sec = count % 60;
      var count_down = document.getElementById('count_1');
      count_down.innerHTML = ("0"+min).slice(-2) + ":" + ("0"+sec).slice(-2);
    }
}
 function count_stop(){
  document.getElementById('audio1').pause();
   clearInterval(stp);
   i = 0;
 }

function count_reset(){
document.getElementById('audio1').pause();
clearInterval(stp);
count = 180;
min = parseInt(count / 60);
sec = count % 60;
var count_down = document.getElementById('count_1');
count_down.innerHTML = ("0"+min).slice(-2) + ":" + ("0"+sec).slice(-2);
}
window.onload = function(){
      var start = document.getElementById('start');
      start.addEventListener("click",count_start,false);
      var stop = document.getElementById('stop');
      stop.addEventListener('click',count_stop,false);
      var reset = document.getElementById('reset');
      reset.addEventListener('click',count_reset,false);
    }
    </script>
  </body>
</html>
